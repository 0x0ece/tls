language: python

env:
  - TOX_ENV=py26
  - TOX_ENV=py27
  - TOX_ENV=py32
  - TOX_ENV=py33
  - TOX_ENV=py34
  - TOX_ENV=pypy
  - TOX_ENV=pep8
  - TOX_ENV=py3pep8

script: tox -e $TOX_ENV

after_success:
    - if [[ "${TOX_ENV:0:2}" == 'py' ]]; then coveralls; fi

notifications:
  irc:
    channels: "irc.freenode.net#cryptography-dev"
    template:
      - "%{repository}@%{branch} - %{author}: %{message} (%{build_url})"
    use_notice: true
    skip_join: true
